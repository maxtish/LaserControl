# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∞–∑–µ—Ä–æ–º —á–µ—Ä–µ–∑ TCP –∏ STM32

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∞–∑–µ—Ä–æ–º —Å –ü–ö —á–µ—Ä–µ–∑ TCP –∏ —ç–º—É–ª—è—Ç–æ—Ä STM32 (Renode), —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º STM32F103 –∏ GPIO PA5.  


## –°–∫—Ä–∏–Ω—à–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞

–ì–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ C# –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:  
![–ì–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ](Screenshots/main_window.png)

–¢–µ—Ä–º–∏–Ω–∞–ª Renode —Å –≤—ã–≤–æ–¥–æ–º UART:  
![Renode Terminal](Screenshots/renode_terminal.png)

–¢–µ—Ä–º–∏–Ω–∞–ª Renode –∏ C# –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:  
![Renode Terminal](Screenshots/renode_and_window.png)

–õ–∞–∑–µ—Ä –≤–∫–ª—é—á—ë–Ω:  
![–õ–∞–∑–µ—Ä ON](Screenshots/laser_on.png)

–õ–∞–∑–µ—Ä –≤—ã–∫–ª—é—á–µ–Ω:  
![–õ–∞–∑–µ—Ä ON](Screenshots/laser_off.png)


---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```
LaserControl/
‚îú‚îÄ CSharpApp/ # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ C# (WPF)
‚îÇ ‚îú‚îÄ LaserPanel1.sln
‚îÇ ‚îî‚îÄ LaserPanel1/...
‚îú‚îÄ STM32/ # –ü—Ä–æ–µ–∫—Ç STM32
‚îÇ ‚îî‚îÄ STM32F103C8
‚îÇ   ‚îî‚îÄ STM32F103C8_Laser.ioc
‚îÇ   ‚îî‚îÄ STM32CubeIDE/ # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –¥–ª—è IDE
‚îÇ     ‚îî‚îÄ Debug/
‚îÇ       ‚îî‚îÄ STM32F103C8.elf 
‚îú‚îÄ Renode/ # –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —ç–º—É–ª—è—Ç–æ—Ä–∞
‚îÇ ‚îî‚îÄ laser.resc
‚îî‚îÄ README.md

```


---

## üõ† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- **Visual Studio** (C# WPF) ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ TCP –∫–ª–∏–µ–Ω—Ç
- **STM32CubeMX** ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∏–Ω–æ–≤ –∏ UART
- **STM32CubeIDE 2.0.0** ‚Äî —Å–±–æ—Ä–∫–∞ –∫–æ–¥–∞ –¥–ª—è STM32
- **Renode Emulator** ‚Äî —ç–º—É–ª—è—Ü–∏—è STM32 –∏ UART —á–µ—Ä–µ–∑ TCP

---

## üîå –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
**–ü–ö (C#) ‚Üí TCP ‚Üí Renode ‚Üí UART2 ‚Üí STM32F103 ‚Üí GPIO PA5 ‚Üí –õ–∞–∑–µ—Ä**


- C# WPF –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã `ON/OFF`
- Renode —ç–º—É–ª–∏—Ä—É–µ—Ç STM32 –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ UART
- STM32 –≤–∫–ª—é—á–∞–µ—Ç/–≤—ã–∫–ª—é—á–∞–µ—Ç –ª–∞–∑–µ—Ä (GPIO PA5)
- –û—Ç–≤–µ—Ç—ã –∏ –ª–æ–≥–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –≤ C# –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üíª –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ C#

- TCP –∫–ª–∏–µ–Ω—Ç —Å –∞–≤—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
- –ö–Ω–æ–ø–∫–∞ **START / STOP** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∞–∑–µ—Ä–æ–º
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø—Ä–∏—ë–º –ª–æ–≥–æ–≤ –æ—Ç STM32
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å WPF: –∫–Ω–æ–ø–∫–∞, —Å—Ç–∞—Ç—É—Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –æ–∫–Ω–æ –ª–æ–≥–æ–≤

---

## üñ• STM32

- **PA5** ‚Äî GPIO Output (–ª–∞–∑–µ—Ä)
- **PA2/PA3** ‚Äî USART2 TX/RX
- –°–∫–æ—Ä–æ—Å—Ç—å UART: 115200 –±–æ–¥
- –ö–æ–º–∞–Ω–¥—ã:
  - `ON` ‚Äî –≤–∫–ª—é—á–∏—Ç—å –ª–∞–∑–µ—Ä
  - `OFF` ‚Äî –≤—ã–∫–ª—é—á–∏—Ç—å –ª–∞–∑–µ—Ä

- –ö–æ–¥ STM32 —É–ø—Ä–∞–≤–ª—è–µ—Ç –ª–∞–∑–µ—Ä–æ–º —á–µ—Ä–µ–∑ GPIO –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ª–æ–≥–∏ —á–µ—Ä–µ–∑ UART.  

---

## ‚ö° Renode

- –≠–º—É–ª—è—Ç–æ—Ä STM32F103
- TCP Socket Terminal –¥–ª—è —Å–≤—è–∑–∏ —Å C# –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞

–ü—Ä–∏–º–µ—Ä —Å–∫—Ä–∏–ø—Ç–∞ `laser.resc` (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π, –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏):

```resc
mach create "stm32"
machine LoadPlatformDescription @platforms/cpus/stm32f103.repl
sysbus LoadELF @../STM32/STM32CubeIDE/Debug/STM32F103C8.elf
emulation CreateServerSocketTerminal 12345 "term" false
connector Connect sysbus.usart2 term
showAnalyzer sysbus.usart2
start

## –ó–∞–ø—É—Å–∫

1. –ö–æ–º–ø–∏–ª–∏—Ä—É–µ–º STM32 –ø—Ä–æ–µ–∫—Ç –≤ STM32CubeIDE (`start1.elf`)
2. –ó–∞–ø—É—Å–∫–∞–µ–º Renode:
   ```bash
  renode laser.resc 
  
## –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. `LaserPanel1.sln` –≤ Visual Studio.
2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `Release`.
3. Build ‚Üí Build Solution.
4. –§–∞–π–ª `.exe` –≤:
   `CSharpApp\LaserPanel1\bin\Release\LaserPanel1.exe`